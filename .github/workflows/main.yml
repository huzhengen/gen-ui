name: ci

on: [push, pull_request]

jobs:
  publish-gh-pages:
    runs-on: ubuntu-latest
    steps:
       - uses: actions/checkout@v2
       - uses: actions/setup-node@v1
       - run: git config user.name "huzhengen" && git config user.email "huzhengen@gmail.com"
       - run: npm install
       - run: npm run deploy
         with:
            ACCESS_TOKEN: ${{ secrets.ACCESS_TOKEN }}
            BRANCH: gh-pages
            FOLDER: dist
            CLEAN: true